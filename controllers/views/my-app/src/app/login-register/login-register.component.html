<div class="container mt-5" style="max-width: 420px;">
  <h3 class="text-center mb-4">
    {{ isLogin ? 'Најави се' : 'Регистрирај се' }}
  </h3>

  <form (ngSubmit)="onSubmit()" #authForm="ngForm">
    <!-- Ако е Login режим -->
    <div *ngIf="isLogin">
      <!-- Email -->
      <div class="mb-3">
        <label for="loginEmail" class="form-label">Email</label>
        <input
          type="email"
          id="loginEmail"
          class="form-control"
          [(ngModel)]="loginData.email"
          name="email"
          required
        />
      </div>
      <!-- Password -->
      <div class="mb-3">
        <label for="loginPassword" class="form-label">Лозинка</label>
        <input
          type="password"
          id="loginPassword"
          class="form-control"
          [(ngModel)]="loginData.password"
          name="password"
          required
        />
      </div>
    </div>

    <!-- Ако е Registration режим -->
    <div *ngIf="!isLogin">
      <!-- First Name -->
      <div class="mb-3">
        <label for="firstName" class="form-label">Име</label>
        <input
          type="text"
          id="firstName"
          class="form-control"
          [(ngModel)]="registerData.firstName"
          name="firstName"
          required
        />
      </div>
      <!-- Last Name -->
      <div class="mb-3">
        <label for="lastName" class="form-label">Презиме</label>
        <input
          type="text"
          id="lastName"
          class="form-control"
          [(ngModel)]="registerData.lastName"
          name="lastName"
          required
        />
      </div>
      <!-- Username -->
      <div class="mb-3">
        <label for="username" class="form-label">Корисничко име</label>
        <input
          type="text"
          id="username"
          class="form-control"
          [(ngModel)]="registerData.username"
          name="username"
          required
        />
      </div>
      <!-- Email -->
      <div class="mb-3">
        <label for="registerEmail" class="form-label">Email</label>
        <input
          type="email"
          id="registerEmail"
          class="form-control"
          [(ngModel)]="registerData.email"
          name="email"
          required
        />
      </div>
      <!-- Password -->
      <div class="mb-3">
        <label for="registerPassword" class="form-label">Лозинка</label>
        <input
          type="password"
          id="registerPassword"
          class="form-control"
          [(ngModel)]="registerData.password"
          name="password"
          required
        />
      </div>
    </div>

    <!-- Копче за Submit (Најава или Регистрација) -->
    <button type="submit" class="btn btn-primary w-100 mb-3">
      {{ isLogin ? 'Најави се' : 'Регистрирај се' }}
    </button>
  </form>

  <!-- Линк за промена меѓу Login и Registration -->
  <div class="text-center mb-3">
      <button type="button" class="btn btn-link" (click)="toggleMode()">
      {{ isLogin ? 'Немате акаунт? Регистрирај се' : 'Веќе имате акаунт? Најави се' }}
      </button>
  </div>

  <!-- Копче за покажување/кривање reset-password форма -->
  <div class="text-center mb-3">
    <button class="btn btn-link" (click)="toggleReset()">
      Заборавивте лозинка?
    </button>
  </div>

  <!-- Reset-password форма -->
  <form *ngIf="showReset" (ngSubmit)="onResetPassword()" #resetForm="ngForm">
    <div class="mb-3">
      <label for="resetEmail" class="form-label">Email за ресет</label>
      <input
        type="email"
        id="resetEmail"
        class="form-control"
        [(ngModel)]="resetData.email"
        name="resetEmail"
        required
      />
    </div>
    <button type="submit" class="btn btn-warning w-100 mb-3">
      Ресетирај лозинка
    </button>
  </form>
</div>
